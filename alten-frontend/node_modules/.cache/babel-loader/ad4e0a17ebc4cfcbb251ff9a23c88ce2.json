{"ast":null,"code":"import _slicedToArray from \"/mnt/c/Users/Cannon PC/Desktop/SimpleSpring-master/alten-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/mnt/c/Users/Cannon PC/Desktop/SimpleSpring-master/alten-frontend/src/Components/Customers.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Jumbotron, Button, useAccordionToggle, Accordion, Card } from 'react-bootstrap';\nimport Company from './Company';\nimport Companies from './Companies';\nimport Car from './Car';\nimport { Fragment } from 'react';\nexport default function Customers() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        companyList = _useState2[0],\n        setCompanyList = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        carList = _useState4[0],\n        setCarList = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        uniques = _useState6[0],\n        setUniques = _useState6[1];\n\n  const _useState7 = useState(true),\n        _useState8 = _slicedToArray(_useState7, 2),\n        loading = _useState8[0],\n        setloading = _useState8[1];\n\n  const _useState9 = useState({\n    companyName: null\n  }),\n        _useState10 = _slicedToArray(_useState9, 2),\n        search = _useState10[0],\n        setSearch = _useState10[1];\n\n  const filter = () => {\n    if (search.companyName == \"Alla\") setSearch(search, search.companyName = null);\n    axios.post(\"http://localhost:8080/searchCompanies/\", search).then(res => setCompanyList(res.data));\n  };\n\n  useEffect(() => {\n    axios.get(\"http://localhost:8080/getAllCompanies\").then(res => {\n      setCompanyList(res.data);\n      setUniques(res.data);\n    }).then(setloading(false));\n  }, []);\n\n  if (!loading) {\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(Jumbotron, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"Hello, world!\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"Slappa da bass\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Learn more\"))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(Companies, {\n      companyList: companyList,\n      setCompanyList: setCompanyList.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      name: \"company\",\n      onChange: e => {\n        setSearch(search, search.companyName = e.target.value);\n        filter();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      key: null,\n      value: null,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Alla\"), Array.from(new Set(uniques.map(x => x.companyName))).map(type => React.createElement(\"option\", {\n      key: type,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, type)))), companyList.map(c => React.createElement(Company, {\n      company: c,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    })));\n  } else {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Loading companies...\"));\n  }\n}","map":{"version":3,"sources":["/mnt/c/Users/Cannon PC/Desktop/SimpleSpring-master/alten-frontend/src/Components/Customers.js"],"names":["React","useState","useEffect","axios","Jumbotron","Button","useAccordionToggle","Accordion","Card","Company","Companies","Car","Fragment","Customers","companyList","setCompanyList","carList","setCarList","uniques","setUniques","loading","setloading","companyName","search","setSearch","filter","post","then","res","data","get","bind","e","target","value","Array","from","Set","map","x","type","c"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,kBAA5B,EAAgDC,SAAhD,EAA2DC,IAA3D,QAAuE,iBAAvE;AACA,OAAOC,OAAP,MAAoB,WAApB;AAGA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA,eAAe,SAASC,SAAT,GAAoB;AAAA,oBAEKZ,QAAQ,CAAC,EAAD,CAFb;AAAA;AAAA,QAE1Ba,WAF0B;AAAA,QAEbC,cAFa;;AAAA,qBAGHd,QAAQ,CAAC,EAAD,CAHL;AAAA;AAAA,QAG1Be,OAH0B;AAAA,QAGjBC,UAHiB;;AAAA,qBAIHhB,QAAQ,CAAC,EAAD,CAJL;AAAA;AAAA,QAI1BiB,OAJ0B;AAAA,QAIjBC,UAJiB;;AAAA,qBAKHlB,QAAQ,CAAC,IAAD,CALL;AAAA;AAAA,QAK1BmB,OAL0B;AAAA,QAKjBC,UALiB;;AAAA,qBAMLpB,QAAQ,CAAC;AACnCqB,IAAAA,WAAW,EAAE;AADsB,GAAD,CANH;AAAA;AAAA,QAM1BC,MAN0B;AAAA,QAMlBC,SANkB;;AAUjC,QAAMC,MAAM,GAAG,MAAM;AAEnB,QAAGF,MAAM,CAACD,WAAP,IAAoB,MAAvB,EAA+BE,SAAS,CAACD,MAAD,EAASA,MAAM,CAACD,WAAP,GAAqB,IAA9B,CAAT;AAC/BnB,IAAAA,KAAK,CAACuB,IAAN,CAAW,wCAAX,EAAqDH,MAArD,EACGI,IADH,CACQC,GAAG,IAAIb,cAAc,CAACa,GAAG,CAACC,IAAL,CAD7B;AAED,GALD;;AAOA3B,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,KAAK,CAAC2B,GAAN,CAAU,uCAAV,EACGH,IADH,CACQC,GAAG,IAAI;AACXb,MAAAA,cAAc,CAACa,GAAG,CAACC,IAAL,CAAd;AACAV,MAAAA,UAAU,CAACS,GAAG,CAACC,IAAL,CAAV;AAAqB,KAHzB,EAIGF,IAJH,CAIQN,UAAU,CAAC,KAAD,CAJlB;AAKD,GANQ,EAMN,EANM,CAAT;;AAQA,MAAG,CAACD,OAAJ,EAAY;AACZ,WACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CALF,CADF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAW,MAAA,WAAW,EAAEN,WAAxB;AAAqC,MAAA,cAAc,EAAEC,cAAc,CAACgB,IAAf,CAAoB,IAApB,CAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,QAAQ,EAAEC,CAAC,IAAI;AAAER,QAAAA,SAAS,CAACD,MAAD,EAASA,MAAM,CAACD,WAAP,GAAmBU,CAAC,CAACC,MAAF,CAASC,KAArC,CAAT;AAAqDT,QAAAA,MAAM;AAAI,OAAvG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,GAAG,EAAE,IAAb;AAAmB,MAAA,KAAK,EAAE,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEKU,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQnB,OAAO,CAACoB,GAAR,CAAYC,CAAC,IAAIA,CAAC,CAACjB,WAAnB,CAAR,CAAX,EAAqDgB,GAArD,CAAyDE,IAAI,IAC5D;AAAQ,MAAA,GAAG,EAAEA,IAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoBA,IAApB,CADD,CAFL,CAFF,CAVF,EAmBG1B,WAAW,CAACwB,GAAZ,CAAgBG,CAAC,IAChB,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAEA,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CAnBH,CADF;AA0BD,GA3BC,MA4BI;AACF,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,CADF;AAKD;AACF","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport { Jumbotron, Button, useAccordionToggle, Accordion, Card } from 'react-bootstrap';\r\nimport Company from './Company';\r\n\r\n\r\nimport Companies from './Companies';\r\nimport Car from './Car';\r\nimport { Fragment } from 'react';\r\n\r\nexport default function Customers(){\r\n\r\n  const [companyList, setCompanyList] = useState([]);\r\n  const [carList, setCarList] = useState([]);\r\n  const [uniques, setUniques] = useState([])\r\n  const [loading, setloading] = useState(true);\r\n  const [search, setSearch] = useState({\r\n    companyName: null\r\n  })\r\n\r\n  const filter = () => {\r\n    \r\n    if(search.companyName==\"Alla\") setSearch(search, search.companyName = null)\r\n    axios.post(\"http://localhost:8080/searchCompanies/\", search)\r\n      .then(res => setCompanyList(res.data))\r\n  }\r\n\r\n  useEffect(() => {\r\n    axios.get(\"http://localhost:8080/getAllCompanies\")\r\n      .then(res => {\r\n        setCompanyList(res.data)\r\n        setUniques(res.data)})\r\n      .then(setloading(false))\r\n  }, []);\r\n  \r\n  if(!loading){\r\n  return(\r\n    <Fragment>\r\n      <Jumbotron>\r\n        <h1>Hello, world!</h1>\r\n        <p>\r\n          Slappa da bass\r\n        </p>\r\n        <p>\r\n          <Button variant=\"primary\">Learn more</Button>\r\n        </p>\r\n      </Jumbotron>\r\n      <div>\r\n        <Companies companyList={companyList} setCompanyList={setCompanyList.bind(this)} />\r\n        <select name=\"company\" onChange={e => { setSearch(search, search.companyName=e.target.value);filter();}}>\r\n            <option key={null} value={null}>Alla</option>\r\n            {Array.from(new Set(uniques.map(x => x.companyName))).map(type => \r\n              <option key={type}>{type}</option>\r\n            )}\r\n        </select>  \r\n      </div>\r\n      {companyList.map(c => \r\n        <Company company={c} />\r\n      )}\r\n\r\n    </Fragment>\r\n  ) \r\n}\r\n  else{\r\n    return(\r\n      <div>\r\n        <h1>Loading companies...</h1>\r\n      </div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}